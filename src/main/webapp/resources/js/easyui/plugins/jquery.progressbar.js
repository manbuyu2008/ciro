(function(a){function c(e){var d=a(e);d.addClass("progressbar");d.html('<div class="progressbar-text"></div><div class="progressbar-value">&nbsp;</div>');return d}function b(h,d,g){if(!g){g=a.data(h,"progressbar")}var f=g.options;var e=g.bar;if(d){f.width=d}e._outerWidth(f.width);e.find("div.progressbar-text").width(e.width())}a.fn.progressbar=function(d,e){if(typeof d=="string"){var f=a.fn.progressbar.methods[d];if(f){return f(this,e)}}d=d||{};return this.each(function(g){var h=a.data(this,"progressbar");if(h){a.extend(h.options,g)}else{h=a.data(this,"progressbar",{options:a.extend({},a.fn.progressbar.defaults,a.fn.progressbar.parseOptions(this),g),bar:c(this)})}a(this).progressbar("setValue",h.options.value);b(this,h)},[d])};a.fn.progressbar.methods={options:function(d){return a.data(d[0],"progressbar").options},resize:function(e,d){return e.each(function(){b(this,d)})},getValue:function(d){return a.data(d[0],"progressbar").options.value},setValue:function(e,d){if(d<0){d=0}if(d>100){d=100}return e.each(function(){var g=a.data(this,"progressbar").options;var h=g.text.replace(/{value}/,d);var f=g.value;g.value=d;a(this).find("div.progressbar-value").width(d+"%");a(this).find("div.progressbar-text").html(h);if(f!=d){g.onChange.call(this,d,f)}})}};a.fn.progressbar.parseOptions=function(d){return a.extend({},a.parser.parseOptions(d,["width","text",{value:"number"}]))};a.fn.progressbar.defaults={width:"auto",value:0,text:"{value}%",onChange:function(e,d){}}})(jQuery);