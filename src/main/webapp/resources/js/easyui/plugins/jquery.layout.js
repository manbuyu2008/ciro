(function(d){var h=false;function f(n,m){if(!m){m=d.data(n,"layout")}var l=m.options;var v=m.panels;var s=d(n);if(l.fit==true){var o=s.parent();o.addClass("panel-noscroll");if(o[0].tagName=="BODY"){d("html").addClass("panel-fit")}s.width(o.width());s.height(o.height()-getCssIntValue(s,"margin-top")-getCssIntValue(s,"margin-bottom")-getCssIntValue(o,"padding-bottom")-getCssIntValue(o,"padding-top"))}var x=s.width();if(s[0].tagName=="BODY"){x=x-m.options.marginLeft-m.options.marginRight}var y={top:0,left:0,width:x,height:s.height()-getCssIntValue(s,"margin-top")-getCssIntValue(s,"margin-bottom")-3};function u(p){if(!p.length){return}var w=p.panel("options");p.panel("resize",{width:s.width(),height:w.height,left:0,top:0});y.top+=w.height;y.height-=w.height}if(e(v.expandNorth)){u(v.expandNorth)}else{u(v.north)}function r(p){if(!p.length){return}var w=p.panel("options");p.panel("resize",{width:s.width(),height:w.height,left:0,top:s.height()-w.height});y.height-=w.height}if(e(v.expandSouth)){r(v.expandSouth)}else{r(v.south)}function t(p){if(!p.length){return}var w=p.panel("options");p.panel("resize",{width:w.width,height:y.height,left:s.width()-w.width,top:y.top});y.width-=w.width}if(e(v.expandEast)){t(v.expandEast)}else{t(v.east)}function q(p){if(!p.length){return}var w=p.panel("options");p.panel("resize",{width:w.width,height:y.height,left:0,top:y.top});y.left+=w.width;y.width-=w.width}if(e(v.expandWest)){q(v.expandWest)}else{q(v.west)}v.center.panel("resize",y)}function i(l,m){if(!m){m=d.data(l,"layout")}var o=d(l);if(o[0].tagName=="BODY"){d("html").addClass("panel-fit")}o.addClass("layout");function n(r,p,q){r.children("div").each(function(s,v){var u=d.parser.parseOptions(this,["region"]);var t=u.region;if(t=="north"||t=="south"||t=="east"||t=="west"||t=="center"){c(s,{region:t},this,v)}},[p,q])}o.children("form").length?n(o.children("form"),l,m):n(o,l,m);d('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>').appendTo(o);o.bind("_resize",{container:l},function(s,r){var p=d.data(s.data.container,"layout");var q=p.options;if(q.fit==true||r){f(s.data.container,p)}return false})}function c(n,s,p,m){s.region=s.region||"center";if(!m){m=d.data(n,"layout")}var u=m.panels;var r=d(n);var t=s.region;if(u[t].length){return}var q;if(p){q=d(p)}else{q=r.children("div[region="+t+"]")}if(!q.length){q=d("<div></div>").appendTo(r)}var o=d.extend({},{width:(q.length?parseInt(q[0].style.width)||q.outerWidth():"auto"),height:(q.length?parseInt(q[0].style.height)||q.outerHeight():"auto"),split:(q.attr("split")?q.attr("split")=="true":undefined),doSize:false,cls:("layout-panel layout-panel-"+t),bodyCls:"layout-body",collapsible:false},s);if(q.attr("collapsible")){o.onOpen=function(){var z={north:"up",south:"down",east:"right",west:"left"};if(!z[t]){return}var y="layout-button-"+z[t];var w=d(this).panel("header").children("div.panel-tool");if(!w.children("a."+y).length){var x=d('<a href="javascript:void(0)"></a>').addClass(y).appendTo(w);x.bind("click",{dir:t,container:n},function(A){b(A.data.container,A.data.dir);return false})}}}q.panel(o);u[t]=q;if(q.panel("options").split){var l=q.panel("panel");l.addClass("layout-split-"+t);var v="";if(t=="north"){v="s"}else{if(t=="south"){v="n"}else{if(t=="east"){v="w"}else{if(t=="west"){v="e"}}}}l.resizable({handles:v,onStartResize:function(B){var w=d(this);var x=w.parents(".layout")[0];var z=d(x);h=true;var C;if(t=="north"||t=="south"){C=d(">div.layout-split-proxy-v",x)}else{C=d(">div.layout-split-proxy-h",x)}var E=0,A=0,y=0,F=0;var D={display:"block"};if(t=="north"){D.top=parseInt(w.css("top"))+w.outerHeight()-C.height();D.left=parseInt(w.css("left"));D.width=w.outerWidth();D.height=C.height()}else{if(t=="south"){D.top=parseInt(w.css("top"));D.left=parseInt(w.css("left"));D.width=w.outerWidth();D.height=C.height()}else{if(t=="east"){D.top=parseInt(w.css("top"))||0;D.left=parseInt(w.css("left"))||0;D.width=C.width();D.height=w.outerHeight()}else{if(t=="west"){D.top=parseInt(w.css("top"))||0;D.left=w.outerWidth()-C.width();D.width=C.width();D.height=w.outerHeight()}}}}C.css(D);d('<div class="layout-mask"></div>').css({left:0,top:0,width:z.width(),height:z.height()}).appendTo(z)},onResize:function(z){var x=d(this);var w=x.parents(".layout")[0];var y;if(t=="north"||t=="south"){y=d(">div.layout-split-proxy-v",w);y.css("top",z.pageY-d(w).offset().top-y.height()/2)}else{y=d(">div.layout-split-proxy-h",w);y.css("left",z.pageX-d(w).offset().left-y.width()/2)}return false},onStopResize:function(){var x=d(this);var w=x.parents(".layout")[0];var z=d(w);d(">div.layout-split-proxy-v",w).css("display","none");d(">div.layout-split-proxy-h",w).css("display","none");var y=q.panel("options");y.width=x.outerWidth();y.height=x.outerHeight();y.left=x.css("left");y.top=x.css("top");q.panel("resize");f(w);h=false;z.find(">div.layout-mask").remove()}})}}function g(l,p,n){if(!n){n=d.data(l,"layout")}var m=n.panels;if(m[p].length){m[p].panel("destroy");m[p]=d();var o="expand"+p.substring(0,1).toUpperCase()+p.substring(1);if(m[o]){m[o].panel("destroy");m[o]=undefined}}}function b(q,w,y,o,x){if(!o){o=d.data(q,"layout")}var m=o.options;var v=o.panels;var r=v[w];var t=r.panel("options");if(t.onBeforeCollapse.call(r)==false){return}var s="expand"+w.substring(0,1).toUpperCase()+w.substring(1);if(!v[s]){if(!x){v[s]=n(w,t.title);v[s].panel("panel").bind("click",{pnlRegion:r,container:q,panels:v},function(p){k(p.data.container,w);return false})}else{v[s]={visible:false}}}var u=l(q,v);if(!e(v[s])){v.center.panel("resize",u.resizeC)}r.panel("collapse",false).panel("close");if(!x){v[s].panel("open").panel("resize",u.expandP);if(w=="north"||w=="south"){v[s].panel("body").hide()}}else{v[s].visible=true}if(o.options.onRegionCollapsed){o.options.onRegionCollapsed.call(q,w)}function n(z,C){var A;if(z=="east"){A="layout-button-left"}else{if(z=="west"){A="layout-button-right"}else{if(z=="north"){A="layout-button-down"}else{if(z=="south"){A="layout-button-up"}}}}if(!C){C="&nbsp;"}var B=d("<div></div>").appendTo(q).panel({cls:"layout-expand",title:C,closed:true,doSize:false,tools:[{iconCls:A,handler:function(){var p=d(this).parents(".layout")[0];k(p,w);return false}}]});B.panel("panel").hover(function(){d(this).addClass("layout-expand-over")},function(){d(this).removeClass("layout-expand-over")});return B}function l(p,z){var B;if(!x){B=28}else{B=0}var C=d(p),A;if(w=="east"){return{resizeC:{width:z.center.panel("options").width+z.east.panel("options").width-28},expand:{left:C.width()-z.east.panel("options").width},expandP:{top:z.east.panel("options").top,left:C.width()-B,width:B,height:z.center.panel("options").height},collapse:{left:C.width()}}}else{if(w=="west"){return{resizeC:{width:z.center.panel("options").width+z.west.panel("options").width-28,left:B},expand:{left:0},expandP:{left:0,top:z.west.panel("options").top,width:B,height:z.center.panel("options").height},collapse:{left:-z.west.panel("options").width}}}else{if(w=="north"){A=C.height()-B;if(e(z.expandSouth)){A-=z.expandSouth.panel("options").height}else{if(e(z.south)){A-=z.south.panel("options").height}}z.east.panel("resize",{top:B,height:A});z.west.panel("resize",{top:B,height:A});if(e(z.expandEast)){z.expandEast.panel("resize",{top:B,height:A})}if(e(z.expandWest)){z.expandWest.panel("resize",{top:B,height:A})}return{resizeC:{top:B,height:A},expand:{top:0},expandP:{top:0,left:0,width:C.width(),height:B},collapse:{top:-z.north.panel("options").height}}}else{if(w=="south"){A=C.height()-B;if(e(z.expandNorth)){A-=z.expandNorth.panel("options").height}else{if(e(z.north)){A-=z.north.panel("options").height}}z.east.panel("resize",{height:A});z.west.panel("resize",{height:A});if(e(z.expandEast)){z.expandEast.panel("resize",{height:A})}if(e(z.expandWest)){z.expandWest.panel("resize",{height:A})}return{resizeC:{height:A},expand:{top:C.height()-z.south.panel("options").height},expandP:{top:C.height()-B,left:0,width:C.width(),height:B},collapse:{top:C.height()}}}}}}}}function k(n,u,m){if(!m){m=d.data(n,"layout")}var t=m.panels;var s=l(n,t);var o=t[u];if(o.panel("options").onBeforeExpand.call(o)==false){return}var r="expand"+u.substring(0,1).toUpperCase()+u.substring(1);if(t[r].length){t[r].panel("close")}else{t[r].visible=false}var q=o.panel("panel");o.panel("header").unbind(".layout").bind("click.layout",{container:n},function(w){var p=w.data.container;var v=d.data(p,"layout");b(p,u,0,v,false)});q.stop(true,true);o.panel("expand",false).panel("open").panel("resize",s.collapse);f(n);if(m.options.onRegionExpanded){m.options.onRegionExpanded.call(n,u)}function l(p,v){var w=d(p);if(u=="east"&&v.expandEast){return{collapse:{left:w.width()},expand:{left:w.width()-v.east.panel("options").width}}}else{if(u=="west"&&v.expandWest){return{collapse:{left:-v.west.panel("options").width},expand:{left:0}}}else{if(u=="north"&&v.expandNorth){return{collapse:{top:-v.north.panel("options").height},expand:{top:0}}}else{if(u=="south"&&v.expandSouth){return{collapse:{top:w.height()},expand:{top:w.height()-v.south.panel("options").height}}}}}}}}function a(l,n){if(!n){n=d.data(l,"layout")}var m=n.panels;if(m.east.length){m.east.panel("panel").bind("mouseover",{container:l,panels:m,region:"east"},o)}if(m.west.length){m.west.panel("panel").bind("mouseover",{container:l,panels:m,region:"west"},o)}if(m.north.length){m.north.panel("panel").bind("mouseover",{container:l,panels:m,region:"north"},o)}if(m.south.length){m.south.panel("panel").bind("mouseover",{container:l,panels:m,region:"south"},o)}m.center.panel("panel").bind("mouseover",{container:l,panels:m,region:"center"},o);function o(s){if(h==true){return}var p=s.data.container,q=s.data.panels,r=s.data.region;if(r!="east"&&e(q.east)&&e(q.expandEast)){b(p,"east")}if(r!="west"&&e(q.west)&&e(q.expandWest)){b(p,"west")}if(r!="north"&&e(q.north)&&e(q.expandNorth)){b(p,"north")}if(r!="south"&&e(q.south)&&e(q.expandSouth)){b(p,"south")}return false}}function e(l){if(!l){return false}if(l.length){return l.panel("panel").is(":visible")}else{return l.visible}}function j(l,n){if(!n){n=d.data(l,"layout")}var m=n.panels;if(m.east.length&&m.east.panel("options").collapsed){b(l,"east",0,n)}if(m.west.length&&m.west.panel("options").collapsed){b(l,"west",0,n)}if(m.north.length&&m.north.panel("options").collapsed){b(l,"north",0,n)}if(m.south.length&&m.south.panel("options").collapsed){b(l,"south",0,n)}}d.fn.layout=function(l,m){if(typeof l=="string"){return d.fn.layout.methods[l](this,m)}l=l||{};return this.each(function(n){var p=d.data(this,"layout");if(p){d.extend(p.options,n)}else{var o=d.extend({},d.fn.layout.defaults,d.fn.layout.parseOptions(this),n);d.data(this,"layout",{options:o,panels:{center:d(),north:d(),south:d(),east:d(),west:d()}});i(this,p);a(this,p)}f(this,p);j(this,p)},[l])};d.fn.layout.methods={resize:function(l){return l.each(function(){f(this)})},panel:function(m,l){return d.data(m[0],"layout").panels[l]},collapse:function(m,l){return m.each(function(){b(this,l)})},collapseEx:function(m,l){return m.each(function(){b(this,l,0,undefined,true)})},expand:function(m,l){return m.each(function(){k(this,l)})},add:function(m,l){return m.each(function(){var n=d.data(this,"layout");c(this,l,undefined,n);f(this,n);if(d(this).layout("panel",l.region).panel("options").collapsed){b(this,l.region,0,n)}})},remove:function(m,l){return m.each(function(){var n=d.data(this,"layout");g(this,l,n);f(this,n)})}};d.fn.layout.parseOptions=function(l){return d.extend({},d.parser.parseOptions(l,[{fit:"boolean",marginTop:"number",marginBottom:"number",marginLeft:"number",marginRight:"number"}]))};d.fn.layout.defaults={fit:false,marginTop:0,marginBottom:0,marginLeft:10,marginRight:10,hideWhenCollapse:false,onRegionExpanded:undefined,onRegionCollapsed:undefined}})(jQuery);