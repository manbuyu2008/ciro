(function(d){function b(h,g){if(!g){g=d.data(h,"linkbutton")}var f=g.options,e=d(h);e.empty();e.addClass("l-btn");if(f.id){e.attr("id",f.id)}else{d(h).attr("id","")}if(f.plain){e.addClass("l-btn-plain")}else{e.removeClass("l-btn-plain")}if(f.text){e.html(f.text).wrapInner('<span class="l-btn-left"><span class="l-btn-text"></span></span>');if(f.iconCls){e.find(".l-btn-text").addClass(f.iconCls).css("padding-left","20px")}}else{e.html("&nbsp;").wrapInner('<span class="l-btn-left"><span class="l-btn-text"><span class="l-btn-empty"></span></span></span>');if(f.iconCls){e.find(".l-btn-empty").addClass(f.iconCls)}}e.unbind(".linkbutton").bind("focus.linkbutton",function(){var i=d.data(this,"linkbutton").options;if(!i.disabled){d(this).find("span.l-btn-text").addClass("l-btn-focus")}}).bind("blur.linkbutton",function(){d(this).find("span.l-btn-text").removeClass("l-btn-focus")});c(h,f.disabled,g)}function c(i,g,h){if(!h){h=d.data(i,"linkbutton")}var e=d(i);if(g){h.options.disabled=true;var f=d(i).attr("href");if(f){h.href=f;e.attr("href","javascript:void(0)")}if(i.onclick){h.onclick=i.onclick;i.onclick=null}e.addClass("l-btn-disabled")}else{h.options.disabled=false;if(h.href){e.attr("href",h.href)}if(h.onclick){i.onclick=h.onclick}e.removeClass("l-btn-disabled")}}function a(j,g){var i=d.data(j,"linkbutton");var h=i.options,e=d(j);var f;if(h.text){f=e.find(".l-btn-text")}else{f=e.find(".l-btn-empty")}if(h.iconCls){f.removeClass(h.iconCls)}f.addClass(g);h.iconCls=g}d.fn.linkbutton=function(e,f){if(typeof e=="string"){return d.fn.linkbutton.methods[e](this,f)}e=e||{};return this.each(function(g){var h=d.data(this,"linkbutton");if(h){d.extend(h.options,g)}else{h=d.data(this,"linkbutton",{options:d.extend({},d.fn.linkbutton.defaults,d.fn.linkbutton.parseOptions(this),g)});d(this).prop("disabled",false)}b(this,h)},[e])};d.fn.linkbutton.methods={options:function(e){return d.data(e[0],"linkbutton").options},changeIcon:function(f,e){return f.each(function(){a(this,e)})},enable:function(e){return e.each(function(){c(this,false)})},disable:function(e){return e.each(function(){c(this,true)})}};d.fn.linkbutton.parseOptions=function(f){var e=d(f);return d.extend({},d.parser.parseOptions(f,["id","iconCls",{plain:"boolean"}]),{disabled:(e.prop("disabled")?true:undefined),text:d.trim(e.html()),iconCls:(e.attr("icon")||e.attr("iconCls"))})};d.fn.linkbutton.defaults={id:undefined,disabled:false,plain:false,text:"",iconCls:undefined}})(jQuery);