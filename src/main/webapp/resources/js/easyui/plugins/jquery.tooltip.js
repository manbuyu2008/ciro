(function(c){function j(l){var k=c(l);if(!l.id){k.attr("id",c.parser.getObjGUID())}k.addClass("tooltip-f")}function a(n,m){if(!m){m=c.data(n,"tooltip")}var l=m.options;if(!l.autoShow){return}var k=c(n);k.unbind(".tooltip").bind("mousemove.tooltip",{target:n},function(r){var q=r.data.target;var p=c.data(q,"tooltip");var o=p.options;if(o.trackMouse){o.trackMouseX=r.pageX;o.trackMouseY=r.pageY;i(q,undefined,p)}}).bind(l.showEvent+".tooltip",{target:n},function(o){h(o.data.target,o)}).bind(l.hideEvent+".tooltip",{target:n},function(o){e(o.data.target,o)})}function f(o,p){var m=c.data(o,"tooltip");var l=m.options;var n=p.tiptarget;var k=c(n);if(l.trackMouse){k.unbind(".tooltip").bind("mousemove.tooltip",{target:o,tipTarget:n},function(t){var s=t.data.target;var r=c.data(s,"tooltip");var q=r.options;q.trackMouseX=t.pageX;q.trackMouseY=t.pageY;i(s,t.data.tiptarget,r)})}if(l.showEvent){k.bind(l.showEvent+".tooltip",{target:o,param:p},function(q){h(q.data.target,p);return false})}if(l.hideEvent){k.bind(l.hideEvent+".tooltip",{target:o},function(t){function q(u,z,v){var w=v.offset();return(u>=w.left&&u<=w.left+v._outerWidth()&&z>=w.top&&z<=w.top+v._outerHeight())}var s=t.data.target;var r=c.data(s,"tooltip");if(q(t.clientX,t.clientY,r.tip)){return}if(q(t.clientX,t.clientY,r.tip.children(".tooltip-arrow-outer"))){return}e(t.data.target,t);return false})}}function d(l,k){if(!k){k=c.data(l,"tooltip")}if(k.showTimer){clearTimeout(k.showTimer);k.showTimer=null}if(k.hideTimer){clearTimeout(k.hideTimer);k.hideTimer=null}}function i(r,q,n){if(!n){n=c.data(r,"tooltip")}if(!n||!n.tip){return}if(!q){q=r}var l=n.options;var m=n.tip,p,o,k;if(l.trackMouse){k=c();p=l.trackMouseX+l.deltaX;o=l.trackMouseY+l.deltaY}else{k=c(q);p=k.offset().left+l.deltaX;o=k.offset().top+l.deltaY}switch(l.position){case"right":p+=k._outerWidth()+12+(l.trackMouse?12:0);o-=(m._outerHeight()-k._outerHeight())/2;break;case"left":p-=m._outerWidth()+12+(l.trackMouse?12:0);o-=(m._outerHeight()-k._outerHeight())/2;break;case"top":p-=(m._outerWidth()-k._outerWidth())/2;o-=m._outerHeight()+12+(l.trackMouse?12:0);break;case"bottom":p-=(m._outerWidth()-k._outerWidth())/2;o+=k._outerHeight()+12+(l.trackMouse?12:0);break}m.css({left:p,top:o,zIndex:(l.zIndex!=undefined?l.zIndex:(c.fn.window?c.fn.window.defaults.zIndex++:""))});l.onPosition.call(r,q,p,o)}function h(n,o,m){if(!m){m=c.data(n,"tooltip")}var k=m.options;var l=m.tip;if(!l){l=c('<div class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body");m.tip=l;b(n,undefined,m)}else{if(o.content){b(n,o.content,m)}}l.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-"+k.position);d(n,m);var p=n.id;m.showTimer=setTimeout(function(){var v=c("#"+p)[0];var r=c.data(v,"tooltip");var q=r.options;var x=r.tip;var w=o.tiptarget?o.tiptarget:v;var t=o.postarget?o.postarget:w;i(v,t,r);x.show();q.onShow.call(v,o);var s=x.children(".tooltip-arrow-outer");var y=x.children(".tooltip-arrow");var u="border-"+q.position+"-color";s.add(y).css({borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:""});s.css(u,x.css(u));y.css(u,x.css("backgroundColor"));o=null},k.showDelay)}function e(l,m,k){if(!k){k=c.data(l,"tooltip")}if(k&&k.tip){d(l,k);var n=l.id;k.hideTimer=setTimeout(function(){var p=c("#"+n)[0];var o=c.data(p,"tooltip");o.tip.hide();o.options.onHide.call(p,m)},k.options.hideDelay)}}function b(n,l,m){if(!m){m=c.data(n,"tooltip")}var k=m.options;if(l){k.content=l}if(!m.tip){return}var o=typeof k.content=="function"?k.content.call(n):k.content;m.tip.children(".tooltip-content").html(o);k.onUpdate.call(n,o)}function g(n,m){if(!m){m=c.data(n,"tooltip")}if(m){d(n,m);var l=m.options;if(m.tip){m.tip.remove()}var k=c(n);if(l.title){k.attr("title",l.title)}c.removeData(n,"tooltip");k.unbind(".tooltip").removeClass("tooltip-f");l.onDestroy.call(n)}}c.fn.tooltip=function(k,l){if(typeof k=="string"){return c.fn.tooltip.methods[k](this,l)}k=k||{};return this.each(function(m){var n=c.data(this,"tooltip");if(n){c.extend(n.options,m)}else{n=c.data(this,"tooltip",{options:c.extend({},c.fn.tooltip.defaults,c.fn.tooltip.parseOptions(this),m)});j(this)}a(this,n);b(this,undefined,n)},[k])};c.fn.tooltip.methods={options:function(k){return c.data(k[0],"tooltip").options},tip:function(k){return c.data(k[0],"tooltip").tip},arrow:function(k){return k.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")},show:function(l,k){return l.each(function(){h(this,k)})},hide:function(l,k){return l.each(function(){e(this,k)})},update:function(l,k){return l.each(function(){b(this,k)})},reposition:function(k){return k.each(function(){i(this)})},bindTipTarget:function(l,k){return l.each(function(){f(this,k)})},destroy:function(k){return k.each(function(){g(this)})}};c.fn.tooltip.parseOptions=function(m){var k=c(m);var l=c.extend({},c.parser.parseOptions(m,["position","showEvent","hideEvent","content",{deltaX:"number",deltaY:"number",showDelay:"number",hideDelay:"number"}]),{title:k.attr("title")});k.attr("title","");if(!l.content){l.content=l.title}return l};c.fn.tooltip.defaults={position:"bottom",content:null,trackMouse:false,deltaX:0,deltaY:0,showEvent:"mouseenter",hideEvent:"mouseleave",showDelay:200,hideDelay:0,autoShow:true,onShow:function(k){},onHide:function(k){},onUpdate:function(k){},onPosition:function(l,k){},onDestroy:function(){}}})(jQuery);